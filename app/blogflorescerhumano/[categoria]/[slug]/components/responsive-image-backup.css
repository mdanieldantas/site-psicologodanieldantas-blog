/**
 * @fileoverview Estilos de backup para o sistema de imagens responsivas
 * @description CSS de segurança para garantir comportamento consistente
 * @author Blog Florescer Humano
 * @since 2025-06-13
 */

/* ✅ Garantias de responsividade para imagens hero */
.responsive-article-hero {
  width: 100% !important;
  max-width: 100%;
  height: auto !important;
  display: block;
  margin: 0 auto;
}

/* ✅ Container de AspectRatio com fallback */
.aspect-ratio-container {
  position: relative;
  width: 100%;
  overflow: hidden;
}

/* ✅ Fallback para navegadores que não suportam aspect-ratio */
.aspect-ratio-fallback {
  position: relative;
  width: 100%;
  padding-top: 52.63%; /* 630/1200 = 0.5263 (ratio 1.9:1) */
}

.aspect-ratio-fallback > img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* ✅ Estilos para imagens sem moldura */
.frame-none {
  border: none !important;
  box-shadow: none !important;
  border-radius: 0 !important;
  background: transparent !important;
}

/* ✅ Garantia para Next.js Image */
.frame-none img {
  border: none !important;
  box-shadow: none !important;
  border-radius: 0 !important;
}

/* ✅ Estados de loading suaves */
.image-loading-skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading-shimmer 1.5s infinite;
}

@keyframes loading-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* ✅ Transições suaves para estados */
.image-transition {
  transition: opacity 0.3s ease-in-out;
}

.image-hidden {
  opacity: 0;
}

.image-visible {
  opacity: 1;
}

/* ✅ Responsividade garantida em todos os breakpoints */
@media (max-width: 480px) {
  .responsive-article-hero {
    margin-bottom: 1rem;
  }
  
  .aspect-ratio-container {
    margin-bottom: 1rem;
  }
}

@media (max-width: 768px) {
  .responsive-article-hero {
    margin-bottom: 1.5rem;
  }
  
  .aspect-ratio-container {
    margin-bottom: 1.5rem;
  }
}

@media (max-width: 1024px) {
  .responsive-article-hero {
    margin-bottom: 2rem;
  }
  
  .aspect-ratio-container {
    margin-bottom: 2rem;
  }
}

/* ✅ Garantia para prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .image-transition {
    transition: none;
  }
  
  .image-loading-skeleton {
    animation: none;
    background: #f0f0f0;
  }
  
  .aspect-ratio-container * {
    transition: none !important;
    animation: none !important;
  }
}

/* ✅ Print styles para imagens */
@media print {
  .responsive-article-hero {
    break-inside: avoid;
    page-break-inside: avoid;
  }
  
  .image-loading-skeleton {
    display: none;
  }
}

/* ✅ High contrast mode support */
@media (prefers-contrast: high) {
  .aspect-ratio-container {
    border: 1px solid;
  }
}

/* ✅ Dark mode considerations (se implementado no futuro) */
@media (prefers-color-scheme: dark) {
  .image-loading-skeleton {
    background: linear-gradient(90deg, #2a2a2a 25%, #3a3a3a 50%, #2a2a2a 75%);
  }
}

/* ✅ Focus states para acessibilidade */
.responsive-article-hero:focus,
.aspect-ratio-container:focus {
  outline: 2px solid #C19A6B;
  outline-offset: 2px;
}

/* ✅ Força object-fit para compatibilidade */
.responsive-article-hero img,
.aspect-ratio-container img {
  object-fit: cover !important;
  object-position: center !important;
}

/* ✅ Previne layout shift durante carregamento */
.aspect-ratio-container::before {
  content: '';
  display: block;
  padding-top: 52.63%; /* Mantém espaço reservado */
}

.aspect-ratio-container img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* ✅ Fallback para browsers muito antigos */
.no-aspectratio .aspect-ratio-container {
  height: 0;
  padding-bottom: 52.63%;
  position: relative;
}

.no-aspectratio .aspect-ratio-container img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
